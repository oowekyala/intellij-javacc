
jjtx:
  visitors:
    defaultJjtreeVisitor:
      execute: true
    parameterlessVisitor:
      execute: true

  activeGenScheme: myGen
  nodeGenerationSchemes:
    myGen:
      # Match predicates in order
      # v:X template X with node generation context
      "v: $node == $grammar.rootNode":
        - template: |
            #if( !$node.class.package.empty )
            package $node.class.package;
            #end
            public interface ${node.class.simpleName} {

            }

          formatter: "java"
      "v: !$node.subNodes.empty":
        - template: |
            #if( !$node.class.package.empty )
            package $node.class.package;
            #end
            public abstract class ${node.class.simpleName} {

            }
          genClassName: "${node.class.qualifiedName}"
          formatter: "java"
        - template: |
            #if( !$node.class.package.empty )
            package ${node.class.package}.impl;
            #end
            public class ${node.class.simpleName}Impl extends ${grammar.nodePackage}.{node.class.simpleName} {

            }
          genClassName: "${node.class.package}.impl.${node.class.simpleName}Impl"
          formatter: "java"
      "r:.*":
        - templateFile: "/jjtx/templates/Node.java.vm" # Whitespace trouble
          formatter: "java"

  nodePrefix: Ex
  nodePackage: "org.expr"
  typeHierarchy:
    "%Root":
      - "Expression":
          - "r:.*Expression"
          - Literal:
              - NullLiteral
              - IntegerLiteral

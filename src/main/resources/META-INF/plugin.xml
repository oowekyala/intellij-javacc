<idea-plugin>
    <id>com.github.oowekyala.intellij-javacc</id>
    <name>JavaCC</name>
    <description>Support for JavaCC and JJTree grammar files</description>
    <version>1.0.5-dirty</version>
    <vendor>oowekyala</vendor>
    <idea-version since-build="182"/>

    <application-components>
        <!-- Add your application components here -->
    </application-components>

    <project-components>
        <!-- Add your project components here -->
    </project-components>

    <actions>
        <!-- Add your actions here -->
    </actions>

    <extensions defaultExtensionNs="com.intellij">

        <fileTypeFactory implementation="com.github.oowekyala.ijcc.JavaccFileTypeFactory"/>
        <colorSettingsPage implementation="com.github.oowekyala.ijcc.insight.highlight.JavaccColorSettingsPage"/>

        <renamePsiElementProcessor implementation="com.github.oowekyala.ijcc.lang.refs.JccRenameProcessor"/>
        <lang.namesValidator language="JavaCC"
                             implementationClass="com.github.oowekyala.ijcc.lang.refs.JccNamesValidator"/>
        <lang.parserDefinition
                language="JavaCC" implementationClass="com.github.oowekyala.ijcc.JavaccParserDefinition"/>
        <lang.syntaxHighlighterFactory
                language="JavaCC"
                implementationClass="com.github.oowekyala.ijcc.insight.highlight.JavaccSyntaxHighlighterFactory"/>
        <lang.commenter language="JavaCC" implementationClass="com.intellij.lang.java.JavaCommenter"/>

        <!-- Annotator passes -->
        <annotator language="JavaCC"
                   id="JccQuickAnnotator"
                   order="first"
                   implementationClass="com.github.oowekyala.ijcc.insight.highlight.JccAnnotator"/>

        <!-- TODO v2.0 -->
        <!--<multiHostInjector implementation="com.github.oowekyala.ijcc.lang.injection.JavaccLanguageInjector"/>-->

        <lang.documentationProvider language="JavaCC"
                                    implementationClass="com.github.oowekyala.ijcc.insight.quickdoc.JccDocumentationProvider"/>
        <lang.ast.factory language="JavaCC"
                          implementationClass="com.github.oowekyala.ijcc.lang.psi.JavaccAstFactory"/>

        <lang.elementManipulator forClass="com.github.oowekyala.ijcc.lang.psi.JccLiteralRegularExpression"
                                 implementationClass="com.github.oowekyala.ijcc.lang.psi.manipulators.JccLiteralRegexManipulator"/>
        <lang.elementManipulator forClass="com.github.oowekyala.ijcc.lang.psi.JccOptionValue"
                                 implementationClass="com.github.oowekyala.ijcc.lang.psi.manipulators.JccOptionValueManipulator"/>
        <lang.elementManipulator forClass="com.github.oowekyala.ijcc.lang.psi.JccIdentifier"
                                 implementationClass="com.github.oowekyala.ijcc.lang.psi.manipulators.JccIdentifierManipulator"/>
        <lang.braceMatcher language="JavaCC" implementationClass="com.github.oowekyala.ijcc.JavaccPairedBraceMatcher"/>

        <defaultLiveTemplatesProvider implementation="com.github.oowekyala.ijcc.JavaccTemplatesProvider"/>
        <liveTemplateContext implementation="com.github.oowekyala.ijcc.JavaccTemplateContext"/>

        <lang.findUsagesProvider language="JavaCC"
                                 implementationClass="com.github.oowekyala.ijcc.lang.refs.JccFindUsagesProvider"/>
        <elementDescriptionProvider implementation="com.github.oowekyala.ijcc.lang.refs.JccDescriptionProvider"/>

        <lang.foldingBuilder language="JavaCC" implementationClass="com.github.oowekyala.ijcc.JavaccFoldingBuilder"/>

        <lang.psiStructureViewFactory language="JavaCC"
                                      implementationClass="com.github.oowekyala.ijcc.insight.structure.JavaccStructureViewBuilderFactory"/>

        <codeInsight.lineMarkerProvider language="JavaCC"
                                        implementationClass="com.github.oowekyala.ijcc.insight.jjtree.JjtreeLineMarkerProvider"/>

        <inspectionToolProvider
                implementation="com.github.oowekyala.ijcc.insight.inspections.JavaccInspectionsProvider"/>

        <intentionAction>
            <className>com.github.oowekyala.ijcc.insight.inspections.TokenInliningIntention</className>
        </intentionAction>

        <intentionAction>
            <className>com.github.oowekyala.ijcc.insight.inspections.ReplaceLiteralWithReferenceIntention</className>
        </intentionAction>
    </extensions>
</idea-plugin>
